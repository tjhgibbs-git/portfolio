{% load static %}
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}Thomas Gibbs | Data Professional{% endblock %}</title>
    <script>
        // Prevent flash of unstyled content by setting theme before page render
        (function() {
            const savedTheme = localStorage.getItem('theme');
            const prefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
            if (savedTheme === 'dark' || (!savedTheme && prefersDark)) {
                document.documentElement.setAttribute('data-theme', 'dark');
            } else {
                document.documentElement.setAttribute('data-theme', 'light');
            }
        })();
    </script>
    <link rel="stylesheet" href="{% static 'css/main.css' %}">
    {% block extra_css %}{% endblock %}
</head>
<body>
    <header>
        <div class="container header-container">
            <div class="logo">
                <a href="{% url 'blog:post_list' %}">Thomas Gibbs</a>
            </div>

            <button class="mobile-toggle" aria-label="Toggle menu">
                â˜°
            </button>

            <nav>
                <ul id="nav-menu">
                    <li><a href="{% url 'blog:post_list' %}" class="{% if request.path == '/' %}active{% endif %}">Blog</a></li>
                    <li><a href="{% url 'portfolio' %}" class="{% if 'projects' in request.path %}active{% endif %}">Projects</a></li>
                    <li><a href="{% url 'recipes:recipe_list' %}" class="{% if 'recipes' in request.path %}active{% endif %}">Recipes</a></li>
                    <li><a href="{% url 'tools:list' %}" class="{% if 'tools' in request.path %}active{% endif %}">Tools</a></li>
                    <li><a href="{% url 'meetup:index' %}" class="{% if 'meetup' in request.path %}active{% endif %}">Meetup</a></li>
                </ul>
            </nav>
        </div>
    </header>

    <main>
        {% block content %}{% endblock %}
    </main>

    <footer>
        <div class="container">
            <div class="footer-container">
                <div class="footer-col">
                    <h3>Thomas Gibbs</h3>
                    <p>Data professional bridging technical expertise with project delivery, specializing in AI and customer segmentation.</p>
                    <div class="social-links">
                        <a href="https://linkedin.com/in/thomasjhgibbs/" class="social-link" aria-label="LinkedIn">
                            <svg viewBox="0 0 24 24" width="18" height="18" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round"><path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"></path><rect x="2" y="9" width="4" height="12"></rect><circle cx="4" cy="4" r="2"></circle></svg>
                        </a>
                        <a href="#" class="social-link" aria-label="GitHub">
                            <svg viewBox="0 0 24 24" width="18" height="18" stroke="currentColor" stroke-width="2" fill="none" stroke-linecap="round" stroke-linejoin="round"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37 0 0 0-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44 0 0 0 20 4.77 5.07 5.07 0 0 0 19.91 1S18.73.65 16 2.48a13.38 13.38 0 0 0-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07 0 0 0 5 4.77a5.44 5.44 0 0 0-1.5 3.78c0 5.42 3.3 6.61 6.44 7A3.37 3.37 0 0 0 9 18.13V22"></path></svg>
                        </a>
                    </div>
                </div>
            </div>

            <div class="theme-toggle">
                <button id="theme-toggle" class="theme-toggle-btn" aria-label="Toggle dark mode">
                    <span class="theme-icon">ðŸŒ™</span>
                    <span class="theme-text">Dark Mode</span>
                </button>
            </div>

            <div class="copyright">
                <p>&copy; {% now "Y" %} Thomas Gibbs. All rights reserved.</p>
            </div>
        </div>
    </footer>

    <script src="{% static 'js/main.js' %}"></script>
    {% block extra_js %}{% endblock %}
</body>
</html>